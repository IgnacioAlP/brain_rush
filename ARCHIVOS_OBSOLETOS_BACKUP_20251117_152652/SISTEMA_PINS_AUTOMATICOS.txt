# SISTEMA DE DIFERENCIACIÓN DE PINS PARA MODO AUTOMÁTICO

## Problema
Necesitábamos diferenciar las salas creadas automáticamente (desde el dashboard del estudiante)
de las salas creadas manualmente por los docentes.

## Solución Implementada

### 1. Formato de PINs Diferenciados

#### Salas NORMALES (Docentes)
- **Formato:** 6 dígitos numéricos
- **Ejemplo:** `123456`, `789012`
- **Generación:** `random.randint(100000, 999999)`
- **Uso:** Cuando un docente crea una sala manualmente

#### Salas AUTOMÁTICAS (Estudiantes desde Dashboard)
- **Formato:** AUTO + 4 caracteres alfanuméricos
- **Ejemplo:** `AUTOA1B2`, `AUTO9X4Z`
- **Generación:** `'AUTO' + random.choices(string.ascii_uppercase + string.digits, k=4)`
- **Uso:** Cuando un estudiante hace clic en "Jugar" desde el dashboard

### 2. Función Helper
```python
def es_sala_automatica(pin_sala):
    """
    Verifica si un PIN corresponde a una sala en modo automático
    """
    if not pin_sala:
        return False
    return pin_sala.startswith('AUTO') and len(pin_sala) == 8
```

### 3. Modificaciones Realizadas

#### main.py
1. **Agregada función helper** `es_sala_automatica()` después de las importaciones
2. **Modificada función** `jugar_individual()`:
   - Cambiado de 6 dígitos a formato AUTO + 4 caracteres
   - PIN único: `AUTOXXXX` donde X = letras mayúsculas o números
3. **Modificada función** `juego_estudiante()`:
   - Detecta si es modo automático usando el PIN
   - Pasa variable `modo_automatico` al template

### 4. Ventajas del Sistema

✅ **Identificación Visual:**
- El formato del PIN indica inmediatamente el tipo de sala
- Estudiantes ven códigos como AUTOA1B2
- Docentes ven códigos como 123456

✅ **Separación de Lógica:**
- Fácil implementar comportamientos diferentes según el modo
- El template recibe variable `modo_automatico` para ajustar UI/UX

✅ **Escalabilidad:**
- Más de 1.6 millones de combinaciones posibles (36^4)
- Formato extensible si se necesitan más variaciones

### 5. Casos de Uso

**Modo Normal (Docente):**
```
1. Docente crea sala → PIN: 654321
2. Estudiantes se unen con el código
3. Docente controla el inicio del juego
```

**Modo Automático (Estudiante):**
```
1. Estudiante hace clic en "Jugar" → PIN: AUTOX7Y9
2. Sala se crea automáticamente
3. Juego comienza inmediatamente
4. Sin pantalla de espera
```

### 6. Archivos Modificados
- `main.py`:
  - Función `es_sala_automatica()` (nueva)
  - Función `jugar_individual()` (modificada)
  - Función `juego_estudiante()` (modificada)

### 7. Variables Disponibles en Templates
- `{{ modo_automatico }}` → Boolean (True si es sala automática)
- `{{ sala.pin_sala }}` → String con el PIN (formato AUTO o numérico)

## Próximos Pasos Sugeridos

1. **En JuegoEstudiante.html:**
   - Usar `modo_automatico` para saltar pantalla de espera
   - Iniciar automáticamente sin esperar al docente

2. **En Dashboard:**
   - Mostrar PINs automáticos de forma diferente
   - Indicar visualmente el modo de juego

3. **En Historial:**
   - Filtrar salas por tipo (automáticas vs manuales)
   - Estadísticas separadas por modo
